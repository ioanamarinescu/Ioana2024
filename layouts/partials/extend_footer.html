<script>
// Wait for Pagefind to load and auto-click Load More
console.log('Search show-all script loaded!');
document.addEventListener('DOMContentLoaded', function() {
    // Wait a bit for Pagefind to initialize
    setTimeout(function() {
        const clickLoadMore = () => {
            const loadMoreBtn = document.querySelector('.pagefind-ui__button');
            if (loadMoreBtn && loadMoreBtn.textContent.includes('Load')) {
                console.log('Clicking Load More button...');
                loadMoreBtn.click();
                setTimeout(clickLoadMore, 100);
            }
        };
        
        // Start checking when search results appear
        const observer = new MutationObserver(function(mutations) {
            if (document.querySelector('.pagefind-ui__result')) {
                clickLoadMore();
                observer.disconnect();
            }
        });
        
        // Watch for changes in the search area
        const searchArea = document.querySelector('#search') || document.querySelector('[id*="pagefind"]') || document.body;
        observer.observe(searchArea, { childList: true, subtree: true });
        
    }, 500);
});
</script>
